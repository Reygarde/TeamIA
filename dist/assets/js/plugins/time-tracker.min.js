"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
!function (e) {
  var a,
    o = {
      format: "H:i:s",
      countdown: !1,
      passed: 0,
      passedStop: -1,
      timestart: 0,
      timestop: 0,
      delayInterval: 1e3,
      stop: null
    },
    s = null,
    p = null;
  var n = {
    init: function init(t) {
      console.log("method: ", "init"), p = this, (a = e.extend({}, o, t)).timestop && (a.passedStop = 1e3 * a.timestop), a.countdown && 0 === a.passedStop && (a.countdown = !1), 0 !== a.passed && (a.passed = 1e3 * a.passed), n.display.apply(), n.stop.apply();
    },
    start: function start() {
      console.log("method: ", "start"), a.timestart = Date.now(), s = setTimeout(n.make, a.delayInterval);
    },
    stop: function stop() {
      console.log("method: ", "stop"), s && clearTimeout(s);
    },
    make: function make() {
      console.log("method: ", "make");
      var t = Date.now();
      a.passed += t - a.timestart, a.timestart = t, n.display.apply(), a.passed <= a.passedStop || a.passedStop < 0 ? s = setTimeout(n.make, a.delayInterval) : (a.passed = a.passedStop, a.stop && a.stop.apply());
    },
    display: function display() {
      console.log("method: ", "disp");
      var t,
        e = a.format,
        o = a.passed,
        s = Math.floor;
      a.countdown && (o = a.passedStop - o, s = Math.ceil), s = s(o / 1e3) % 60, t = Math.floor(o / 6e4) % 60, o = Math.floor(o / 36e5), t = t < 10 ? "0" + t : t, s = s < 10 ? "0" + s : s, e = e.replace("H", o < 10 ? "0" + o : o).replace("i", t).replace("s", s), p.text(e);
    },
    reset: function reset() {
      console.log("method: ", "reset"), a.passed = 0, a.timestop && (a.passedStop = 1e3 * a.timestop), a.countdown && 0 === a.passedStop && (a.countdown = !1), n.display.apply();
    }
  };
  e.fn.timetracker = function (t) {
    return n[t] ? n[t].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != _typeof(t) && t ? void e.error(t + " don't exists") : n.init.apply(this, arguments);
  };
}(jQuery);